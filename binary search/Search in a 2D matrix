#opitmal approach using binary search
#source:Leetcode

class Solution:
    def searchMatrix(self, matrix: List[List[int]], target: int) -> bool:
        def binarysearch(arr,target):
            a = len(arr)
            low = 0
            high = a - 1
            while low <= high:
                mid = (low+high)//2
                if arr[mid] == target:
                    return True
                elif arr[mid] < target:
                    low = mid + 1
                else:
                    high = mid - 1
            return False

        n = len(matrix)
        m = len(matrix[0])
        for i in range(n):
            if matrix[i][0] <= target and target <= matrix[i][m-1]:
                    return binarysearch(matrix[i],target)
        return False
#TC:O(n+log2 m)
#SC:O(1)

#optimal approach 2
class Solution:
    def searchMatrix(self, matrix: List[List[int]], target: int) -> bool:
        m = len(matrix[0]) #no of columns
        n = len(matrix)    #no of rows
        low = 0
        high = (n * m) - 1
        while low <= high:
            mid = (low+high)//2
            row = mid//m
            col = mid % m
            if matrix[row][col] == target:
                return True
            elif matrix[row][col] < target:
                low = mid + 1
            else:
                high = mid - 1
        return False
        
#TC:O(log2 n*m)
#SC:O(1)




