#solved uisng deque while following monotonic decreasing stack behaviour
from collections import deque
class Solution:
    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:
          dq = deque()
          stack = []
          n = len(nums)
          for i in range(n):
              
              while dq and nums[dq[-1]] <= nums[i]: #remove elements that are smaller than the current element
                 dq.pop()

              if dq and dq[0] <= i - k: #remove the indices that are out of window size
                dq.popleft()
                
              dq.append(i)
            
              if i >= k-1:
                stack.append(nums[dq[0]])
          return stack

#TC:O(2n)one is for traversal and other is for push and pop operations
#SC:O(k)
